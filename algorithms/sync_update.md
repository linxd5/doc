# 同步更新机制
同步更新是指线上采样和线下更新是串行执行的，如下图所示：

<p align="center">
<img src=".images/sync_update.png" width=300/>
</p>

线上项目采用同步更新机制时，一般需要串行地进行线上采样、日志收集和线下更新，迭代效率可能会较低，但收敛更稳定，且不容易出错。`EvoKit`所有算法都支持同步更新。


## 如何使用
使用`EvoKit`进行同步更新时，需要使用`ESAgent`类创建agent，主要包括下面三个步骤：
- 初始化solver：保存solver相关信息到初始模型文件夹中（注意只需要运行一次）；
- 在线采样：创建`ESAgent`实例，加载指定模型和配置，在线上进行模型的噪声扰动（`add_noise`），然后和线上环境进行交互和评估，并保存日志；
- 离线更新：创建`ESAgent`实例，加载指定模型和配置，根据日志文件还原模型噪声和对应评估奖励，更新模型参数，并产出下一轮迭代模型。


线上模拟示例可以参考：<a href="examples/sync_online_example.md">同步更新示例</a>
